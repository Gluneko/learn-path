## nodejs

[参考](http://ourjs.com/detail/5490db1c8a34fa320400000e)
### hapi的介绍

1. 好处: 定位很准，主要提供微服务(API)，处理路由的配置很清晰, 可读性非常的好，Hapi更关注配置并且希望使得代码更加清晰和让团队开发使用起来更加简便。轻量级框架，插件机制适合插拔。还有swagger的库，可以直接生成swagger文档。
2. 缺点: 例子太少，社区人不多。开源的项目比较少。

## Nosql VS Sql

### Mongodb

定位：高可用，分布式，灵活模式，文档数据库。
优点:

* 内存映射机制, 数据不是持久化在存储设备中的，是映射到内存里的，提高了IO效率。
* 读写效率高，因为相关的数据都在一起，不需要花太多时间去定位磁头。
* 可扩展性比较强，因为数据关联性是弱关联。
* 动态模式，不需要每条数据的格式都是一样的。
* 模型自然，文档模式最接近我们熟悉的对象模式。
* 用存储来换性能, 用写入换查询，有大量的冗余数据，这样也可以提高读取的性能。

#### 分类

1. 键值数据库: Redis
2. 面向文档数据库: mongodb
3. 列存储数据库: HBase
4. 图数据库: Graph

### Mysql

优点:
1. 易于理解。
2. 通用的sql语言，使用方便。
3. 易于维护: 丰富的完整性(实体完整性、参照完整性和用户定义的完整性)大大减低了数据冗余和数据不一致的概率

缺点(瓶颈):
1. 高并发读写，硬盘I/O是一个很大的瓶颈。
2. 海量数据的高效率读写, 查询的效率低。
3. 扩展性弱。

### 对比

* nosql是非关系型的, sql关系型的。
* nosql的存储结构有好多种, sql是以表结构存储的。
* nosql不需要每条数据都要存所有的属性，sql每个数据都要存一样的属性。
* nosql添加新属性十分方便，sql添加新数据比较麻烦(修改schema或回填数据)。
* nosql对半结构化，复杂或嵌套数据比较友好。sql对结构化数据友好。
* nosql灵活的，动态的schema, sql严格的schema。
* mongodb里面存的是BSON，即JSON的二进制结构，只支持UTF8编码，而sql支持多种。
* sql存在事务，锁，acid，范式

## Every Frontend should known

1. 闭包
2. 作用域链
3. 原型链
4. 多种继承方式
5. 创建对象的多种方式
6. 设计模式


### 后台使用nodejs的好处或者优势是什么（本来问和使用java的区别，但是我说不了解java)

[来自这里](https://www.zhihu.com/question/19653241)

#### node与java的区别

* node动态类型且解释型语言(可变性比较大)，java静态类型且翻译型语言。因此Node还是存在一些问题的，大项目不可靠。如果开发大项目的话，还是使用Java, 容易管理，稳定。Node适合中小项目开发。
* node基于事件驱动，无阻塞I/O。Java是基于线程的。
* node的V8引擎不如Java的JVM。
* node适合快速开发。

#### node的优点

* 采用事件驱动，异步编程(回调), 为网络服务而设计。
* 非阻塞的I/O, 相对而言，资源消耗率较低以及高性能。(Node的事件循环机制)
* 轻量高效，快速开发。
* restful API。
* 理论上来讲，适合高并发，传统的话，是开多线程来解决的，但是线程切换是所要很多时间的。而node的异步，只需要等待就ok了，花费的时间在于Event Loop上。只是接受请求快，但是响应请求的话，CPU会飙高，这是一大痛点。

#### node的缺点

* 可靠性低，因为动态类型语言，容错性太低。
* 单进程，单线程，不能充分利用多核cpu服务器, 一旦这个进程崩了， 整个web应用就崩了。
* 由于node是单线程，如果有常时间的计算任务，会导致时间片不会释放，cpu密集。
* 开源组件不如java，node的开源组件层次不齐，但是java的那些包都是经过考验的。

### 关于Node与java对比的总结

* Node是解释性语言并且是动态语言，而Java是翻译性语言并且是静态语言，也就是说，Node的容错率比较低。
* Node是基事件驱动，异步编程，非阻塞式IO，而Java是基于多线程编程，因此Node的资源利用率相对Java而言比较高。
* Node轻量高效，并且很好的支持Restful风格，适合中小型项目开发，而Java相对Node更适合大型项目开发。
* Node是单线程的，因此如果一个线程崩了，那么整个应用就崩了。
* Node的包很多，但是参差不齐，而Java的很多包都是经过考验的。

### 关于Nosql与Sql的对比的总结

* nosql是非关系型的，sql是关系型的。
* nosql可能有多种存储结构，比如(redis, Hbase, graph, mongodb), 而sql是表结构。
* nosql比较灵活，动态的schema, 而sql是严格的schema, 因此nosql扩展性比较强，不需要每条数据的格式都是一样的。
* mongodb的内存映射机制，数据不是存储在硬盘里的，而是映射到内存里的，因此提升了IO效率。
* 读写效率比较高，因为相关的数据都在一起，不需要花太多的时间去定位磁头。
